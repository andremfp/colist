import{s as c,a as t,c as l,d,b as u,e as w,f as h}from"./firebase.CIecg0m3.js";async function f(a,o){try{const e=(await c(t,a,o)).user;return{access:await e.getIdToken(),id:e.uid}}catch(r){if(console.error("Login error:",r),r instanceof Error&&r.code)switch(r.code){case"auth/user-not-found":throw new Error("No user found with this email. Please check your credentials or register.");case"auth/invalid-credential":throw new Error("Incorrect email / password. Please try again.");case"auth/invalid-email":throw new Error("The email address is not valid. Please enter a valid email.");case"auth/user-disabled":throw new Error("This user account has been disabled. Please contact support.");case"auth/network-request-failed":throw new Error("Network problem. Please check network connection.");default:throw new Error("Login failed. Please try again.")}else throw new Error("An unknown error occurred during login.")}}async function E(){await h(t)}async function m(a,o,r){try{const e=await l(t,a,r),s=e.user,n={id:e.user.uid,email:e.user.email||"",name:o,createdAt:new Date},i=d(u,"users",n.id);return await w(i,n),s}catch(e){if(console.error("Registration error:",e),e instanceof Error&&e.code)switch(e.code){case"auth/email-already-in-use":throw new Error("This email is already in use. Please try logging in or use a different email.");case"auth/invalid-email":throw new Error("The email address is not valid. Please enter a valid email.");case"auth/operation-not-allowed":throw new Error("Registration is currently disabled. Please try again later.");case"auth/weak-password":throw new Error("Password should be at least 6 characters long.");default:throw new Error("Registration failed. Please try again.")}else throw new Error("An unknown error occurred during registration.")}}export{E as a,f as l,m as r};
